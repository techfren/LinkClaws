import { AgentMailClient } from 'agentmail';
import { z } from 'zod';
import { ToolAnnotations } from '@modelcontextprotocol/sdk/types.js';

type Args = Record<string, any>;

interface Tool {
    name: string;
    description: string;
    paramsSchema: z.ZodObject<any>;
    func: (client: AgentMailClient, args: Args) => Promise<any>;
    annotations?: ToolAnnotations;
}

declare abstract class BaseToolkit<T> {
    protected readonly client: AgentMailClient;
    protected readonly tools: Record<string, T>;
    constructor(client?: AgentMailClient);
    protected abstract buildTool(tool: Tool): T;
}
declare abstract class ListToolkit<T> extends BaseToolkit<T> {
    getTools(names?: string[]): T[];
}
declare abstract class MapToolkit<T> extends BaseToolkit<T> {
    getTools(names?: string[]): Record<string, T>;
}

export { ListToolkit as L, MapToolkit as M, type Tool as T };
