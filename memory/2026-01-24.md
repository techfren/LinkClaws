# 2026-01-24

## Alexa Shopping List → Amazon Cart Integration (with AJ)

**Goal:** Help AJ integrate Alexa shopping list with Amazon cart - when items are added to Alexa list, automatically add them to Amazon cart.

**Progress:**
- Explored `alexa-remote2` npm package for authentication
- Set up test project at `~/clawd/projects/alexa-remote-test/`
- Tried remote proxy auth (ran into URL rewriting issues with signin)
- Tried local proxy auth on AJ's Mac (same proxy issues - Amazon login page not rendering correctly)
- The proxy-based auth flow in alexa-remote2 is finicky with Amazon's current signin flow

**Recommended next step:** 
- Try `alexacli` (Go-based CLI tool) instead - has cleaner auth flow that opens browser directly without proxy
- Install: `brew install buddyh/tap/alexacli` or `go install github.com/buddyh/alexa-cli/cmd/alexacli@latest`
- Auth: `alexacli auth` (opens browser directly)

**Files created:**
- `~/clawd/projects/alexa-remote-test/auth.js` - alexa-remote2 auth script
- `~/clawd/projects/alexa-remote-test/proxy-auth.js` - remote proxy variant

**Key learnings:**
- alexa-remote2's proxy auth is unreliable with current Amazon signin flows
- Amazon frequently changes their auth pages, breaking proxy-based solutions
- Direct browser auth (like alexacli) is more reliable

---

## Browser Relay Success! (with AJ)

**Time:** ~02:50-02:59 UTC (Jan 25)

**Setup:**
- AJ set up Cloudflare tunnel on Mac: `cloudflared tunnel --url http://localhost:18791`
- Tunnel URL: `https://place-grams-munich-welfare.trycloudflare.com`
- Token: `aj4713374747`
- AJ installed Clawdbot Browser Relay Chrome extension and attached to Amazon tab

**Successful test:**
- Navigated to Amazon Buy Again page remotely
- Found "Organic Banana Bunch" in the snapshot
- Clicked "Add to cart" button via browser relay
- Cart updated from 0 to 1 item ✅

**Result:** I can now control AJ's Chrome browser from the VPS for:
- Amazon shopping (add to cart from Buy Again)
- Auth flows that need browser interaction
- Any web automation that needs their logged-in session

**Files updated:**
- `skills/alexa/SKILL.md` - Added browser relay cart documentation
- `TOOLS.md` - Added browser relay URL and token
- `docs/alexa-auth-guide.md` - Comprehensive Alexa auth guide

---

## WhatsApp & Discord Channel Setup (with AJ)

**Time:** ~21:07-21:25 UTC

**WhatsApp:**
- Added WhatsApp config with `dmPolicy: allowlist`
- AJ linked a dedicated phone number via QR scan (ran `clawdbot channels login --channel whatsapp`)
- Added AJ's number (+61406142826) to allowlist
- Successfully tested - images work too

**Discord:**
- AJ created a Discord bot in Developer Portal
- Added bot token to config
- Enabled intents: Message Content + Server Members
- Initially set to `groupPolicy: allowlist` with `requireMention: true`
- AJ requested open access to all channels - updated to `groupPolicy: open` with `requireMention: false`

**Config changes:**
- Added `commands.restart: true` so I can restart gateway remotely
- Both channels now live and working

**AJ's content:** 
- Showed me their viral Clawdbot tweet (1.5K likes, 111 RTs) - "deploy in under 5 minutes on AWS free tier"
- Wants to continue the short-form deploy video format
